
alias cd..='cd ..'
function cd()
{
    if [ "${1:-}" ]; then
        dir="$1"
        while ! [[ -d "$dir" ]] && [[ -e "$dir" ]]; do
            dir=`dirname $dir`
        done
        if [[ "$1" != "$dir" ]]; then
            echo "Correcting '$1' to '$dir'" 1>&2
        fi
        command cd "$dir"
    else
        command cd
    fi
}
